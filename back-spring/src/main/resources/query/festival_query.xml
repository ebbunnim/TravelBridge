<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 

<mapper namespace="com.pjt1.model.dao.FestivalDao" >

	<!-- fval_no, fval_del_check defaultë¡œ insert -->
  	<insert id="insert"		parameterType="festival">
		insert into festival 
		(clm_no, fval_name, fval_address, fval_img, 
		fval_content, fval_tag, fval_start_day, fval_end_day, 
		fval_fee, fval_map_img, fval_homepage, fval_host, fval_del_check )
		values(
			#{clm_no:INTEGER}, #{fval_name:VARCHAR}, #{fval_address:VARCHAR}, #{fval_img:VARCHAR},
			#{fval_content:VARCHAR}, #{fval_tag:VARCHAR},#{fval_start_day:VARCHAR}, #{fval_end_day:VARCHAR},
			#{fval_fee:INTEGER}, #{fval_map_img:VARCHAR}, #{fval_homepage:VARCHAR}, #{fval_host:VARCHAR},
			#{fval_del_check:BOOLEAN}
		)	
	</insert> 

   	<delete id="delete" 	parameterType="int">
		
	</delete>
   	<update id="update"		parameterType="festival">
		update festival set 
		clm_no=#{clm_no:INTEGER}, fval_name=#{fval_name:VARCHAR}, fval_address=#{fval_address:VARCHAR}, fval_img=#{fval_img:VARCHAR},
		fval_content=#{fval_content:VARCHAR}, fval_tag=#{fval_tag:VARCHAR}, fval_start_day=#{fval_start_day:VARCHAR}, 
		fval_end_day=#{fval_end_day:VARCHAR}, fval_fee=#{fval_fee:INTEGER}, fval_map= #{fval_map_img:VARCHAR}, 
		fval_homepage = #{fval_homepage:VARCHAR}, fval_host=#{fval_host:VARCHAR}, fval_del_check=#{fval_del_check:BOOLEAN}
		where fval_no=#{fval_no:INTEGER}
	</update>
   	<select id="search"		parameterType="int" resultType="festival">
		select * from festival f where fval_no=#{fval_no:INTEGER} and fval_del_check=false   
	</select>
   	<select id="searchAll"	resultType="festival">
		select * from festival f where fval_del_check=false
	</select>
</mapper>

